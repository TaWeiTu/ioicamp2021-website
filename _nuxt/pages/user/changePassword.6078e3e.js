(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{244:function(t,o,e){},246:function(t,o,e){"use strict";var r=e(244);e.n(r).a},247:function(t,o,e){"use strict";e.r(o);var r=e(0).a.extend({}),n=(e(246),e(8)),component=Object(n.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"section"},[this._t("default")],2)}),[],!1,null,"221dd586",null);o.default=component.exports},258:function(t,o,e){},270:function(t,o,e){"use strict";var r=e(258);e.n(r).a},287:function(t,o,e){"use strict";e.r(o);e(13);var r=e(2),n=e(0).a.extend({head:{title:"IOICamp 2021 - 變更密碼",meta:[{hid:"description",name:"description",content:"Home page description"}]},middleware:"auth",data:function(){return{checkPassword:"",passwords:{"old-password":"","new-password":""},popout:{msg:"",status:""}}},computed:{samePassword:function(){return this.passwords["new-password"]===this.checkPassword}},methods:{scrollToTop:function(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(scrollTo(0,t-t/5),requestAnimationFrame(this.scrollToTop))},changePassword:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t.samePassword){o.next=5;break}return t.popout.msg="請確認密碼是否相同呦~",t.popout.status="error",t.scrollToTop(),o.abrupt("return");case 5:return t.popout.msg="變更中...",t.popout.status="info",t.scrollToTop(),o.prev=8,o.next=11,t.$axios.post("/api/users/change-password",t.passwords);case 11:o.sent,t.popout.msg="成功變更!",t.popout.status="success",o.next=20;break;case 16:o.prev=16,o.t0=o.catch(8),t.popout.status="error",o.t0.response&&o.t0.response.data?"Password incorrect"===o.t0.response.data.error?t.popout.msg="舊密碼錯誤~":t.popout.msg="不知道發生什麼事了，可以聯絡我們嗎?":t.popout.msg="好像壞掉了，請跟我們聯絡 Q_Q";case 20:case"end":return o.stop()}}),o,null,[[8,16]])})))()}}}),c=(e(270),e(8)),component=Object(c.a)(n,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"container"},[e("form-section",[""!==t.popout.msg?e("div",{staticClass:"message",class:t.popout.status,attrs:{id:"msg-popout"}},[t._v(t._s(t.popout.msg))]):t._e(),e("h1",[e("i",{staticClass:"fas fa-chevron-right"}),t._v(" 變更密碼")]),e("div",{staticClass:"content"},[e("form",{attrs:{id:"signin-form"},on:{submit:function(o){return o.preventDefault(),t.changePassword(o)}}},[e("label",{staticClass:"input"},[e("span",[e("i",{staticClass:"fas fa-key"}),t._v(" 當前密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwords["old-password"],expression:"passwords['old-password']"}],attrs:{type:"password",placeholder:"old password"},domProps:{value:t.passwords["old-password"]},on:{input:function(o){o.target.composing||t.$set(t.passwords,"old-password",o.target.value)}}})]),e("label",{staticClass:"input"},[e("span",[e("i",{staticClass:"fas fa-unlock"}),t._v(" 新密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwords["new-password"],expression:"passwords['new-password']"}],attrs:{type:"password",placeholder:"new password"},domProps:{value:t.passwords["new-password"]},on:{input:function(o){o.target.composing||t.$set(t.passwords,"new-password",o.target.value)}}})]),e("label",{staticClass:"input",class:{error:!t.samePassword}},[e("span",[e("i",{staticClass:"fas fa-unlock-alt"}),t._v(" 確認新密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkPassword,expression:"checkPassword"}],attrs:{type:"password",placeholder:"new password"},domProps:{value:t.checkPassword},on:{input:function(o){o.target.composing||(t.checkPassword=o.target.value)}}})]),e("div",{staticClass:"right"},[e("button",{staticClass:"submit",attrs:{id:"signin-btn",type:"submit"}},[t._v("變更")])])])])])],1)}),[],!1,null,"c9159144",null);o.default=component.exports;installComponents(component,{FormSection:e(247).default})}}]);